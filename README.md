# êµ­ë‚´ ì „ì‹œ ì»¤ë®¤ë‹ˆí‹° - Muse-O

![MUSE-Oá„‡á…³á„…á…©á„‰á…§](https://user-images.githubusercontent.com/51357635/236382171-b6eff0b3-c993-4243-876e-b8ac096f507b.png)
## ğŸ  [Home Page](https://www.antsori.com)
---
## ğŸ—‚ï¸ ëª©ì°¨



---
## ğŸ‘¨ğŸ»â€ğŸ¨ í”„ë¡œì íŠ¸ ì†Œê°œ
#### êµ­ë‚´ ìœ ëª… ì „ì‹œë¶€í„° ì°¾ê¸° í˜ë“  ê°œì¸ì „ê¹Œì§€ ë³¼ ìˆ˜ ìˆëŠ” ì „ì‹œ ì»¤ë®¤ë‹ˆí‹°!

- MUSE-OëŠ” ì „ì‹œíšŒë¥¼ ì¦ê¸°ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•´ ì „ì‹œíšŒ ê¸°ë°˜ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ê°œì¸ì „ì„ í™ë³´í•˜ê¸° í˜ë“  ì‘ê°€ë“¤ì„ ìœ„í•´ ê°œì¸ì „ì„ ì ê·¹ì ìœ¼ë¡œ í™ë³´í•´ì¤ë‹ˆë‹¤.
- ì „ì‹œì— ë°©ë¬¸í–ˆë˜ ê²½í—˜ì„ ì‚¬ëŒë“¤ê³¼ ê³µìœ í•  ìˆ˜ ìˆê³  ì „ì‹œì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‚´ ì „ì‹œì— ëŒ€í•œ ë°˜ì‘, ë‚´ ê²Œì‹œê¸€ì— ëŒ€í•œ ë°˜ì‘ì„ ì•ŒëŒì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íŠ¹ì • ì‘ê°€ì™€ ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆë„ë¡ 1:1 ë©”ì‹œì§€ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
---
##  í”„ë¡œì íŠ¸ ê¸°ê°„

- 2023ë…„ 03ì›” 31ì¼ ~ 2023ë…„ 05ì›” 12ì¼ (ì´í›„ ê³„ì†ë  ì˜ˆì •)
---
## ğŸ§‘â€ğŸ’» íŒ€ êµ¬ì„±

[íŒ€ ë…¸ì…˜ í˜ì´ì§€](https://www.notion.so/seungho-white/9-MUSE-O-SA-f7e236258c4f4eb7aa8acff482357f60)

## ğŸ’»Stacks

<img width="850" alt="KakaoTalk_20230506_195531355" src="https://user-images.githubusercontent.com/105100315/236620098-ca30c44f-fd9c-439d-bbe1-1a021232d053.png">


### Front End

![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white) ![Styled Components](https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white)<br />
![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E) ![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB) 
![ReactQuery](https://img.shields.io/badge/react--querty-ff4154.svg?style=for-the-badge&logo=react-query&logoColor=white) ![Recoil](https://img.shields.io/badge/Recoil-007af4.svg?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FscXVlXzEiIGRhdGEtbmFtZT0iQ2FscXVlIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI1NS4yMSA2MjMuOTEiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDp3aGl0ZX08L3N0eWxlPjwvZGVmcz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Im03NC42MiAyNzcuNDYgMS4yNC0uMTMgMzQuNzgtMy4yOC01My40Ny01OC42NkE5Ni40NyA5Ni40NyAwIDAgMSAzMiAxNTAuM0gzYTEyNS4zIDEyNS4zIDAgMCAwIDMyLjggODQuNTdaTTE3Ny4xMyAzNDdsLTM2IDMuNCA1My4zMiA1OC41MUE5Ni40MSA5Ni40MSAwIDAgMSAyMTkuNjMgNDc0aDI4LjkyYTEyNS4yOCAxMjUuMjggMCAwIDAtMzIuNzYtODQuNTdaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjUzLjY5IDIzMS42OGMtNi4zMy0zMS4zLTMwLjg5LTU0LjA5LTYyLjU3LTU4LjA3bC02LjM1LS43OWE0OS42MSA0OS42MSAwIDAgMS00My4zNS00OS4xM3YtMjBhNTIuNzUgNTIuNzUgMCAxIDAtMjguOTEtLjM2djIwLjM4YTc4LjU2IDc4LjU2IDAgMCAwIDY4LjY1IDc3LjgybDYuMzYuOGMyMy4yNCAyLjkyIDM0Ljc4IDIwIDM3LjgzIDM1LjFzLS45MyAzNS4zMi0yMS4yMiA0N2E3My44MSA3My44MSAwIDAgMS0zMC4wNiA5LjYybC05NS42NiA5YTEwMi40NSAxMDIuNDUgMCAwIDAtNDEuOCAxMy4zOEM5IDMzMi40NS00LjgxIDM2MyAxLjUyIDM5NC4yOXMzMC44OSA1NC4wOCA2Mi41NyA1OC4wNmw2LjM1LjhhNDkuNiA0OS42IDAgMCAxIDQzLjM1IDQ5LjEydjE4YTUyLjc1IDUyLjc1IDAgMSAwIDI4LjkxLjI2di0xOC4yNmE3OC41NSA3OC41NSAwIDAgMC02OC42NS03Ny44MWwtNi4zNi0uOGMtMjMuMjQtMi45Mi0zNC43OC0yMC4wNS0zNy44My0zNS4xMXMuOTMtMzUuMzIgMjEuMjItNDdhNzMuNjggNzMuNjggMCAwIDEgMzAuMDYtOS42M2w5NS42Ni05YTEwMi40NSAxMDIuNDUgMCAwIDAgNDEuOC0xMy4zOGMyNy42NS0xNi4wMiA0MS40LTQ2LjU0IDM1LjA5LTc3Ljg2WiIvPjwvc3ZnPg==&logoColor=white) 
[![Vercel](https://img.shields.io/badge/-Vercel-black?style=flat-square&logo=vercel&logoColor=white)](https://vercel.com/)
[![axios](https://img.shields.io/badge/-axios-1572B6?style=flat-square&logo=axios&logoColor=white)](https://axios-http.com/)


<br />

### Dev tools
<div>
  <img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=GITHUB&logoColor=white"> 
  <img src="https://img.shields.io/badge/VISUAL STUDIO CODE-007ACC?style=for-the-badge&logo=VISUAL STUDIO CODE&logoColor=white"> 
  <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"> 
  <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=FIGMA&logoColor=white"> 
  <img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white"> 
</div>



---
## ğŸ›  ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •([WHY?](https://spark-stove-6bf.notion.site/cf6de263fec844ba8c989b4c9a6dd32e))


---



# ğŸ¯ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

---

**[FE] ì „ì²´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**

- **ì´ë¯¸ì§€ì— ëŒ€í•œ ê³ ë¯¼**
    - formData ê°ì²´ë¥¼ í™œìš©í•œ ì„œë²„ì „ë‹¬, ì„œë²„ì—ì„œì˜ ì´ë¯¸ì§€ì²˜ë¦¬ íƒˆí”¼
    - S3bucket ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì§ì ‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ, ì´ë¡œì¸í•œ ì´ë¯¸ì§€ì²˜ë¦¬ì†ë„ í–¥ìƒ â†’ ì„œë²„ì˜ ë°ì´í„°ì²˜ë¦¬ì˜ ë¹ ë¥¸ ì‹¤í–‰
    - S3bucket ì— ëŒ€í•œ í™˜ê²½ë³€ìˆ˜ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë³´ê´€í•˜ê³  ìˆê³ , ë¹Œë“œíŒŒì¼ì— ë…¸ì¶œëœë‹¤ëŠ” ì ì¬ì  ìœ„í—˜ì„±ì´ ìˆìŒ
    - CloudFlareê°€ ë¹„ìš©ì ì¸ ì¸¡ë©´ê³¼ í™˜ê²½ë³€ìˆ˜ì  ì¸¡ë©´ì—ì„œ ê³ ë ¤ë˜ì—ˆì§€ë§Œ, formDataë¥¼ ìˆ˜ì— ëŒ€í•œ urlì„ í• ë‹¹ë°›ê³ , í• ë‹¹urlì— formDataë¥¼ ì „ë‹¬í•˜ê³ , ì—…ë¡œë“œëœ urlì„ ì „ë‹¬ë°›ì•„ì„œ, ì´ë¥¼ ì„œë²„ë¡œ ë³´ë‚¸ë‹¤ëŠ” 4ë²ˆì˜ ê³¼ì •ì´ ìˆ˜ë°˜ë¨, ì²˜ë¦¬ì†ë„ì ì¸ ì¸¡ë©´ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ëŠ” ì´ì ì´ ì—†ìŒ.
    - í˜„ì¬ S3bucket ë¡œ ì´ë¯¸ì§€ë¥¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì—ì„œ ì—…ë¡œë“œ í•˜ëŠ” ë°©í–¥ì„ ìœ ì§€í•˜ê³  ìˆìŒ.

**[FE]** **ê¹€ì¬ë€** 

- ğŸ“ìœ íš¨ì„±ê²€ì‚¬ ë¡œì§ ê°œì„ 
    
    `ì£¼ì œ`
    
    íšŒì›ê°€ì… í˜ì´ì§€ë‚˜ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ input ì•„ë˜ì— ìœ íš¨ì„±ê²€ì‚¬ ë‚´ìš©(ê²½ê³  ë©”ì‹œì§€)ë¥¼ ì–´ë–»ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ íš¨ìœ¨ì ì¸ê°€
    
    `ë¬¸ì œ ì¸ì§€(ì²˜ìŒ ì‘ì„±í•œ ë°©ì‹)`
    
    div íƒœê·¸ ì•ˆì— í•¨ìˆ˜ë¥¼ ë„£ì–´ì„œ ê²°ê³¼ë¥¼ ì¶œë ¥í•´ì£¼ëŠ” ë°©ì‹
    
    ```jsx
    const emailRegExp = /^[a-zA-Z0-9+\-\\_.]+@[a-zA-Z0-9\\-]+\.[a-zA-Z0-9\-.]+$/;
    
      //ì´ë©”ì¼ ì…ë ¥ê°’ì— ë”°ë¥¸ ê²€ì‚¬ê°’ ì¶œë ¥
      const emailValidation = () => {
        if (registerInfo.email === "") {
          return "";
        } else if (!emailRegExp.test(registerInfo.email)) {
          return "ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        } else {
          return "";
        }
      };
    
    return
     <div>{emailValidation()}</div>
    ```
    
    â†’ ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ `emailValidation` í•¨ìˆ˜ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜, ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šì„ ê²½ìš° í•¨ìˆ˜ê°€ ë‹¤ì‹œ í˜¸ì¶œë˜ì§€ ì•Šê²Œë˜ì–´ div ì•ˆì˜ ê²½ê³  ë©”ì‹œì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šê±°ë‚˜ ì˜ëª» ë³´ì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.
    
    `í•´ê²°(ì´ì „ë³´ë‹¤ ë‚˜ì•„ì§„ ë°©ì‹)`
    
    ì°¾ì•„ë³´ë‹ˆ ìœ íš¨ì„±ê²€ì‚¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆì—ˆìœ¼ë‚˜, ì§ì ‘ êµ¬í˜„í•´ë³´ê³ ì í•˜ëŠ” ì—´ë§ì´ ë“¤ì—ˆë‹¤.
    
    ê·¸ë˜ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì‘ì„±í•œ ì½”ë“œë¥¼ ì‚´í´ë³´ê³  Reactì—ì„œ ì œê³µí•˜ëŠ” ì£¼ìš” Hookì¤‘ useStateì— ë³´ì—¬ì¤„ ë©”ì‹œì§€ ê°’ì„ ìƒíƒœì— ë”°ë¼ ë‹¤ì–‘í•˜ê²Œ ë‹´ì•„ divíƒœê·¸ì— ë„£ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.
    
    ê·¸ë¦¬ê³  useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€í™”ê°€ ì¼ì–´ë‚ ë•Œë§ˆë‹¤ ë Œë”ë§í•´ì£¼ì—ˆë‹¤.
    
    ì•„ë˜ëŠ” ì´ë©”ì¼ ê²€ì‚¬ ì‘ì„± ì¼ë¶€ë‹¤.
    
    ```jsx
    const [emailMsg, setEmailMsg] = useState("");
    
    const loginHandler = e => {
        e.preventDefault();
        if (!loginInfo.email) {
          setEmailMsg("ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        } else if (!loginInfo.password) {
          setPwMsg("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        } else {
          login(loginInfo);
        }
      };
    
    //ë§ˆìš´íŠ¸, ë¹ˆ ê°’ì´ ì•„ë‹ê²½ìš°, ì •ê·œì‹
      useEffect(() => {
        if (registerInfo.email === "") {
          setEmailMsg("");
        } else if (!emailRegExp.test(registerInfo.email)) {
          setEmailMsg("ì´ë©”ì¼ í˜•ì‹ì´ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        } else {
          setEmailMsg("");
        }
      }, [registerInfo.email]);
    
    //return
    <div>{emailMsg}</div>
    ```
    
    ì´ë ‡ê²Œ ë³€ê²½í•˜ì—¬ Reactì˜ ì£¼ìš” Hookì„ ì‚¬ìš©í•¨ìœ¼ë¡œ, Reactì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ì´ë¥¼ í™œìš©í•´ì„œ ë™ì ìœ¼ë¡œ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆê²Œ ë³€ê²½í•˜ì˜€ë‹¤.
    
    `ê·¸ ì´í›„`
    
    ì´ì „ë³´ë‹¤ ë‚˜ì•„ì§„ ë°©ì‹ì´ë¼ê³  ìƒê°í•˜ê¸´ í•˜ë‚˜, useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€í™”ë¥¼ ê°ì§€í•˜ì—¬ ë³´ì—¬ì£¼ëŠ”ê²ƒì´ ìµœì„ ì¸ì§€ì— ëŒ€í•´ ë‹¤ì‹œ ê³ ë¯¼í•˜ê³ ìˆë‹¤. useEffect ì—­ì‹œ Reactì˜ ì£¼ìš” Hookìœ¼ë¡œ ì¢‹ì€ ê¸°ëŠ¥ì´ì§€ë§Œ, ì¢ì€ ë ˆì´ì•„ì›ƒ ë‚´ì—ì„œ ë§ì€ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  í™•ì¸ë°›ëŠ” íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•˜ê±°ë‚˜ íŠ¹ì • ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œë§ˆë‹¤ ê°ì§€ë˜ëŠ”ê²ƒì€ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë©° ì´ëŠ” ê³§ ì„±ëŠ¥ ì €í•˜ë¡œ ì´ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.
    
    ìœ íš¨ì„±ê²€ì‚¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìì„¸íˆ ì‚´í´ë³´ë©° ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ëœ ê²ƒì¸ì§€, í˜¹ì‹œ ì§€ê¸ˆ êµ¬í˜„í•œ useEffectë³´ë‹¤ ì¢‹ì€ ë°©ë²•ì´ ìˆëŠ”ì§€ ë³´ê³  ë˜ë‹¤ì‹œ ê°œì„ í•´ë³´ë ¤ í•œë‹¤.
    
- ğŸ“ë¡œê·¸ì¸ í›„ ë§ˆì´í˜ì´ì§€ ì ‘ì†ì‹œ í”„ë¡œí•„ ë¯¸ì¶œë ¥
    
    `ë¬¸ì œ`
    
    ë¡œê·¸ì¸ í›„ ë§ˆì´í˜ì´ì§€ì— ì ‘ì†í•˜ë©´ ìœ ì € í”„ë¡œí•„ì´ ì¶œë ¥ë˜ì§€ ì•ŠëŠ” í˜„ìƒ
    
    `ì›ì¸`
    
    ë§ˆì´í˜ì´ì§€ë¡œ ê°€ë©´ GET ìš”ì²­ì„ í•¨ â†’ Networkì˜ headersë¥¼ í™•ì¸í•œ ê²°ê³¼  `Authorization Bearer undefined`ë¡œ ìš”ì²­ì¤‘ì¸ ê²ƒì„ í™•ì¸
    
    `í•´ê²°`
    
    1. ë¡œê·¸ì¸ í•˜ê¸° ì „, ë©”ì¸í˜ì´ì§€ ë„ì› ì„ ë•Œ = undefined
    
    2. ë¡œê·¸ì¸ í›„ ì¿ í‚¤ì—ëŠ” í† í°ì´ ì €ì¥ë˜ì–´ìˆìŒ
    
    3. ë¡œê·¸ì¸ í›„ ì¿ í‚¤ì— ì €ì¥ì‹œí‚¨ í† í°ì„ getí•´ì˜¤ëŠ” ë¡œì§ì´ ì—†ìŒ
    
    â‡’ undefinedì¼ ê²½ìš° interceptorsë¥¼ ì‚¬ìš©í•˜ì—¬ Cookieì— ìˆëŠ” Tokenì„ ë‹¤ì‹œ getí•˜ì—¬ headersì— ë‹´ì•„ ìš”ì²­í•˜ë©° í•´ê²°
    
    ```jsx
    // í† í°ì—†ì´ ë³´ë‚¼ë•Œ
    export const apis = axios.create({
      baseURL: process.env.REACT_APP_SERVER_URL,
    });
    
    // í† í° ë„£ì–´ì„œ ë³´ë‚¼ë•Œ
    export const apis_token = axios.create({
      baseURL: process.env.REACT_APP_SERVER_URL,
      headers: {
        Authorization: `Bearer ${token}`,
      },
    });
    
    // í•´ê²° *Bearer undefined ì²˜ë¦¬*
    apis_token.interceptors.request.use(config => {
      if (config.headers.Authorization === "Bearer undefined") {
        const token = cookies.get("access_token");
        config.headers.Authorization = `Bearer ${token}`;
    		}
    		return config;
    });
    ```
    
    // í† í°ì—†ì´ ë³´ë‚¼ë•Œ
    export const apis = axios.create({
    baseURL: process.env.REACT_APP_SERVER_URL,
    });
    
    // í† í° ë„£ì–´ì„œ ë³´ë‚¼ë•Œ
    export const apis_token = axios.create({
    baseURL: process.env.REACT_APP_SERVER_URL,
    headers: {
    Authorization: `Bearer ${token}`,
    },
    });
    
    // í•´ê²° *Bearer undefined ì²˜ë¦¬*
    apis_token.interceptors.request.use(config => {
    if (config.headers.Authorization === "Bearer undefined") {
    const token = cookies.get("access_token");
    config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
    });
    
    `ë¬¸ì œ`
    

**[FE] ë°•ì˜ì°¬**

- ğŸ“**ì²«ì§¸**, **ê²€ìƒ‰ì–´ì˜ ìƒíƒœë¥¼ ë‹¤ë£¨ëŠ”** ë¶€ë¶„(ì „ì—­ìƒíƒœê´€ë¦¬ì˜ í•„ìš”ì„±ê³¼ ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ì˜ ì¿¼ë¦¬í‚¤)
    - í”„ë¡œì íŠ¸í™˜ê²½ : ê²€ìƒ‰ì–´ê°€ ì…ë ¥ë˜ëŠ” í™˜ê²½(ê°ê°ì˜ **ë¼ìš°í„°ì˜ í—¤ë”ì»´í¬ë„ŒíŠ¸**ì—ì„œ ì…ë ¥ â†’ **ê²€ìƒ‰í˜ì´ì§€**ë¡œ ì´ë™)
    - ê²€ìƒ‰ì–´í†µì‹ ë°©ë²• : RESTfulAPI í†µì‹  ê°€ìš´ë° GET ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•˜ë˜, queryStringìœ¼ë¡œ í•´ë‹¹ìš”ì†Œì˜ ê°’ì„ ì „ë‹¬
    - ë¬¸ì œ(1) ê²€ìƒ‰ì–´ì˜ ìƒíƒœìœ ì§€
        - ê²€ìƒ‰ì–´ë¥¼ ì „ë‹¬í•  GETë©”ì„œë“œì˜ í˜¸ì¶œìœ„ì¹˜(ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ì œì‘)
            - **GETë©”ì„œë“œì— ëŒ€í•œ ì»¤ìŠ¤í…€í›…**
                
                ```jsx
                export const useUnifiedSearch = () => {
                  const searchWord = useRecoilValue(searchWordState);
                  const queryClient = useQueryClient();
                  
                  const [, setData] = useRecoilState(searchDataState);
                  useHeaderState()
                  useEffect(() => {
                    queryClient.invalidateQueries([keys.GET_UNIFIEDSEARCH, searchWord]);
                  }, [searchWord]);
                
                  const { isLoading, isError } = useQuery({
                    queryKey: [keys.GET_UNIFIEDSEARCH, searchWord],
                    queryFn: async () => {
                      const response = await apis_token.get(`/search?searchText=${searchWord}`);
                      return response.data.search;
                    },
                    refetchOnWindowFocus: false,
                    retry: 1,
                    onSuccess: (data) => {
                      setData(data);
                    },
                    onError: (e) => {
                      console.log(e.message);
                    },
                  });
                
                  return { isLoading, isError };
                };
                ```
                
        - ìƒí•˜ìœ„êµ¬ë¶„ì´ ì—†ëŠ” ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸(ë¼ìš°í„°)ì˜ ê²€ìƒ‰ì–´ì— ëŒ€í•œ ìƒíƒœê´€ë¦¬
        - ìƒˆë¡œìš´ ê²€ìƒ‰ì–´ê°€ ì…ë ¥ë˜ì—ˆì„ ë•Œì˜  GETë©”ì„œë“œì˜ í˜¸ì¶œ
        
        í•´ë‹¹ ë¬¸ì œëŠ” ì „ì—­ì—ì„œ ê´€ë¦¬í•  ê²€ìƒ‰ì–´ ìƒíƒœì— ëŒ€í•œ ì´ìŠˆë¥¼ ë°œìƒì‹œì¼°ë‹¤. React-queryë¥¼ í†µí•´ì„œ ë¹„ë™ê¸°ì  ë°ì´í„° ìƒíƒœê´€ë¦¬ë¥¼ í•˜ê³  ìˆì—ˆë˜ í”„ë¡œì íŠ¸ì˜ í™˜ê²½ì—ì„œëŠ” ì „ì—­ìƒíƒœê´€ë¦¬ì— ëŒ€ì‘í•˜ì§€ ëª»í–ˆë‹¤.  ê·¸ ê²°ê³¼ ì „ì—­ì—ì„œ ê´€ë¦¬í•´ì•¼í•  ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í–ˆë‹¤. ì´ ë¶€ë¶„ì— ìˆì–´ì„œ (ìƒíƒœê´€ë¦¬ê´€ë ¨ ì˜ì‚¬ê²°ì • - contextAPI, Redux, Recoil) ê³ ë¯¼ì„ í–ˆê³ , Recoilë¥¼ ë„ì…í•˜ì˜€ë‹¤. ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ê³  ì—”í„°ë¥¼ ì…ë ¥í•˜ë©´ formíƒœê·¸ì˜ onSubmit ì´ ì‹¤í–‰ë˜ëŠ”ë°, ì´ë•Œ ê³µë°±ì„ ì œê±°í•œ ê°’ì„ ìƒì„±í•œ atomsì— ëŒ€ì…ì‹œì¼°ë‹¤. ê·¸í›„ ë¼ìš°íŒ…ì„ í†µí•´ ê²€ìƒ‰í˜ì´ì§€ë¡œ ë„˜ì–´ê°€, GET ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤. 
        
    - ë¬¸ì œ(2) ë³€ê²½ëœ ê²€ìƒ‰ì–´ì— ëŒ€í•œ useQueryì˜ ê³ ìœ í‚¤ì— ëŒ€í•œ ì„¤ì • ë¶€ë¶„ì˜ ì´ìŠˆ
        
        í•´ë‹¹ ì´ìŠˆëŠ” ì´ì „ì— ëŒ€ëŒ“ê¸€ì— ëŒ€í•œ ì¡°íšŒì™€ invalidateQueries()ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ ê²ªì—ˆë˜ ë™ì¼í•œ ë¬¸ì œì´ë‹¤. useQueryì˜ ê³ ìœ í‚¤ëŠ” ê³ ìœ í•´ì•¼ í•œë‹¤. ì´ì „ ì‚¬ë¡€ì—ì„œëŠ” ê³ ìœ í•œì¿¼ë¦¬í‚¤+ê²Œì‹œê¸€id+ëŒ“ê¸€idë¡œ ì¡°í•©í•œ í‚¤ê°’ìœ¼ë¡œ ê°ê°ì˜ ëŒ€ëŒ“ê¸€ì— ëŒ€í•œ ì…ë ¥ê³¼ ë¬´íš¨í™”ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì ‘ê·¼í–ˆë‹¤. ì´ë²ˆì—ë„ ë™ì¼í–ˆë‹¤.  `keys.GET_UNIFIEDSEARCH` íœ´ë¨¼ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê³ ì ì‚¬ì „ì— ì…ë ¥í•œ ì„¤ì •ì„ ìƒˆë¡­ê²Œ ìƒì„±í•œ ê²€ìƒ‰ì–´ì˜ ì¿¼ë¦¬í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¶ˆê°€í•œ ì¼ì´ê¸° ë•Œë¬¸ì´ë‹¤. [1] ì´ì— ëŒ€í•´ì„œ ë¨¼ì € useQueryë¥¼ ì„ ì–¸í•  ë•Œ ì‚¬ì „ì— ì…ë ¥í•œ ì„¤ì •ê°’+ì…ë ¥ëœ ê²€ìƒ‰ì–´ì˜ ì¡°í•©ìœ¼ë¡œ ëœ ì¿¼ë¦¬í‚¤ë¥¼ ìƒì„±í–ˆë‹¤. [2] ê·¸ë¦¬ê³  ì‹ ê·œì…ë ¥ì´ì•¼ ë˜ê² ì§€ë§Œ, ìƒˆë¡­ê²Œ ì…ë ¥ëœ ê²€ìƒ‰ì–´ì— ëŒ€í•´ì„œ ëŒ€ì‘í•˜ê¸° ìœ„í•´ì„œ useEffectë¥¼ í†µí•´ì„œ ì¤‘ì•™ì—ì„œ ê´€ë¦¬ì¤‘ì¸ ê²€ìƒ‰ì–´ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¬´íš¨í™”ë¥¼ ì„ ì–¸í•¨ìœ¼ë¡œ í•´ë‹¹ GETì´ ë™ì‘í•˜ë„ë¡ ì„¤ì •í•˜ì—¬ ë¬¸ì œì— ì ‘ê·¼í–ˆë‹¤. ì´ ê³¼ì •ì—ì„œ React-queryê°€ ë‹¤ë£¨ëŠ” ìƒíƒœì˜ ê´€ë¦¬(ë°ì´í„° ìºì‹±)ì™€ ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì¿¼ë¦¬í‚¤ì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ì„œ ê¹Šì€ ê³µê°ê³¼ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë‹¤. 
        
    - ë¬¸ì œ(3) - GETìš”ì²­ì— ìˆì–´ ì¡°ê±´ë¶€ ë¹„ë™ê¸° í†µì‹  ì„¤ì •
        
        **ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ì™€ í•¨ê»˜ ì‹¤í–‰ë˜ëŠ” GETë©”ì„œë“œì— ëŒ€í•œ ë¶€ë¶„**, í”„ë¡œì íŠ¸ì—ì„œ ë°ì´í„°ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê¸°ìˆ ê²°ì •ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ë¥¼ ì±„íƒí•˜ì˜€ë‹¤. ë¬¸ì œëŠ” ë°ì´í„°ë¥¼ íŒ¨ì¹­í•´ì˜¤ëŠ” ê³¼ì •ì—ì„œ GETìš”ì²­ì€ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ë¬´ì¡°ê±´ ì‹¤í–‰ëœë‹¤ëŠ” ì ì´ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ í†µì‹ ì€ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì„ ì•¼ê¸°í•œë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” 3ê°œì˜ ê²½ìš°ì—ì„œ ì¡°ê±´ë¶€ GETë©”ì„œë“œì˜ ì‹¤í–‰ì´ ìš”êµ¬ë˜ì—ˆë‹¤. [1] í—¤ë”ì˜ í”„ë¡œí•„ìƒíƒœì´ê³ , [2] ê²€ìƒ‰ì–´ì˜ ì¸ê¸° ê²Œì‹œê¸€ ì •ë³´ ë°›ì•„ì˜¤ê¸°, [3] ì‚¬ìš©ìë³„ ìµœê·¼ì— ê²€ìƒ‰ì–´ë¥¼ í†µí•´ ê²€ìƒ‰í•œ ê²Œì‹œê¸€ ì •ë³´ ë°›ì•„ì˜¤ê¸° ì˜€ë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë˜ë©´ ì•ˆë˜ì—ˆê³  íŠ¹ì •í•œ ì¡°ê±´ì´ ìˆì„ ë•Œì—ë§Œ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì—ˆë‹¤. 
        ë¬¸ì œ í•´ê²° ê³¼ì •ì€ ChatGPTì˜€ë‹¤. ë¬¼ë¡  ê³µì‹ë¬¸ì„œ([https://tanstack.com/query/v4/docs/react/reference/useQuery](https://tanstack.com/query/v4/docs/react/reference/useQuery))ì—ì„œ configì— ëŒ€í•œ ì„¤ì •ì„ ì½ì–´ë³´ì•˜ë‹¤ë©´ ë˜ì—ˆê² ì§€ë§Œ, ì˜¤ëœ ì‹œê°„ì´ ê±¸ë ¸ì„ ê²ƒì´ë‹¤.  config ê°€ìš´ë° enabled ë¼ëŠ” ì„¤ì •ê°’ì´ ìˆë‹¤. ì´ë¥¼ í†µí•´ì„œ ì¡°ê±´ì— ë¶€í•©ë˜ë©´ GETë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆëŠ” ìƒí™©ì„ ì œì–´í•  ìˆ˜ ìˆì—ˆë‹¤. ì—¬ê¸°ì„œ ë¹„ë™ê¸°í†µì‹  ì „ìš©ì˜ ë°ì´í„° ìƒíƒœê´€ë¦¬ë¥¼ í‘œë§í•œ ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ì˜ ìš°ìˆ˜ì„±ì„ ê³µê°í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ë¥¼ í™œìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì „ì—­ì—ì„œ ê´€ë¦¬ ì¤‘ì¸ ìƒíƒœì˜ ê°’ì„ êµ¬ë…í–ˆê³  í•´ë‹¹ ìƒíƒœì˜ ê°’ì´ ì¡´ì¬í•  ë•Œì—ë§Œ GETë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ì½”ë“œë¥¼ ì„¤ì •í•¨ìœ¼ë¡œ ëª©ì ì— ë”°ë¥¸ ê°œë°œì„ ì‹¤ì‹œ í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ë²ˆì— ë°°ìš´ ê²ƒì€ ì—­ì‹œ ê³µì‹ë¬¸ì„œë¥¼ ê¼¼ê¼¼íˆ ì½ì–´ë³´ë¼ëŠ” ê¶Œë©´ì€ ì–¸ì œë‚˜ ì˜³ë‹¤ëŠ” ê²ƒì´ë‹¤. ë¬¼ë¡  ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì— ì›í•˜ëŠ” ê¸°ëŠ¥ì´ ì¡´ì¬í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ë¶ˆê°€ëŠ¥í•œì§€ì™€ ê°€ëŠ¥í•œì§€ì˜ ì—¬ë¶€ëŠ” ì‚´í´ë³¼ ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²½í—˜ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. 
        
        ```jsx
        export const useSearchRecent = (searchWindow) => {
          const { isLoading, isError, data } = useQuery({
            queryKey: keys.GET_UNIFIEDSEARCHRECENT,
            queryFn: async () => {
              const response = await apis_token.get("/search/recent");
              return response.data.recentHistory;
            },
            enabled: searchWindow,
            retry: 1,
            refetchOnWindowFocus: false,
            onError: (e) => {
              console.log("error", e.message);
            },
          });
          return { isLoading, isError, data };
        };
        ```
        
- ğŸ“ë‘˜ì§¸, ë·°íŒŒíŠ¸ì— ëŒ€í•œ ì´í•´ì˜ ì¸¡ë©´(**InterserctionObserver, ì´ì „ë¼ìš°í„°ì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê¸°ì–µ**)
    - ë¬¸ì œë°œìƒ(1) **InterserctionObserverì— ëŒ€í•œ ì´í•´ë¶€ì¡±**ì—ì„œ ë°œìƒëœ ë¬´í•œìŠ¤í¬ë¡¤ ê¸°ëŠ¥ì¥ì• 
        - ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•œ ê³µë¶€(**MDNë¬¸ì„œ**)
            
            MDNë¬¸ì„œì— ë”°ë¥´ë©´ **Intersection Observer API**ëŠ” ê°ì‹œí•˜ê³ ì í•˜ëŠ” ìš”ì†Œê°€ ë‹¤ë¥¸ ìš”ì†Œ(viewport)ì— ë“¤ì–´ê°€ê±°ë‚˜ ë‚˜ê°ˆë•Œ ë˜ëŠ” ìš”ì²­í•œ ë¶€ë¶„ë§Œí¼ ë‘ ìš”ì†Œì˜ êµì°¨ë¶€ë¶„ì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ë¹„ë¡ ì •í™•íˆ ëª‡ í”½ì…€ì´ ê²¹ì³ì¡Œê³  ì–´ë– í•œ í”½ì…€ì´ ê²¹ì³ì¡ŒëŠ”ì§€ Intersection Observer API ê°€ ì•Œë ¤ì¤„ ìˆ˜ ì—†ì§€ë§Œ N% ì •ë„ êµì°¨í•  ë•Œë¥¼ ê¸°ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì›ë¦¬ì´ë‹¤. 
            
            ```jsx
            const observer = new IntersectionObserver(entries => {
                  if (entries[0].isIntersecting) {
                    // ìˆ˜í–‰í•  ë™ì‘ì„ ê¸°ë¡í•˜ëŠ” ê³µê°„
                  }
                }, { threshold: 1 });
            ```
            
            **IntersectionObserver** ì˜ ê¸°ëŠ¥ì„ ê²°ì •í•˜ëŠ” ê²ƒì€ `threshold: 1`ì„¤ì •í•œ ì„¤ì •ê°’ì´ë‹¤. 0~1ì— ë”°ë¼ì„œ êµì°¨ë²”ìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì •í™•í•œ ì´í•´ê°€ ì•„ë‹ ìˆ˜ë„ ìˆì§€ë§Œ. 0~100%ë¥¼ 0~1 ë‹¨ê³„ë¡œ ê°’ì„ ì¶•ì†Œí–ˆë‹¤ëŠ” ëŠë‚Œì„ ë°›ì•˜ë‹¤. ì¦‰ ë³´ì—¬ì§€ëŠ” ë·°íŒŒíŠ¸ì— ì´ì „ì— ìˆì—ˆë˜ ìš”ì†Œê°€ ìœ„ë¡œ ì˜¬ë¼ê°€ê³ , ê·¸ ë‹¤ìŒìœ¼ë¡œ ë“±ì¥í•˜ëŠ” íƒœê·¸ì— í•´ë‹¹ ê¸°ëŠ¥ì´ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´, ê¸°ëŠ¥ì´ ë™ì‘í•˜ëŠ” ì›ë¦¬ì´ë‹¤. 
            
            ```jsx
            function Test() {
              const ref = useRef(null);
            
              useEffect(() => {
                const observer = new IntersectionObserver(entries => {
                  if (entries[0].isIntersecting) {
                    alert('ì•ˆë…•');
                  }
                }, { threshold: 1 });
            
                if (ref.current) {
                  observer.observe(ref.current);
                }
            
                return () => {
                  if (ref.current) {
                    observer.unobserve(ref.current);
                  }
                };
              }, []);
            
              return (
            	<div>
            		<div style={{ height: "100vh" }}>ìœ„ëŠ” ë¹ˆ í™”ë©´ì…ë‹ˆë‹¤.</div>
             		<div ref={ref} style={{ height: "100vh" }}>
               			 ì—¬ê¸°ì— ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ë©´ "ì•ˆë…•"ì´ë¼ëŠ” ì•Œë¦¼ì´ ëœ¹ë‹ˆë‹¤.
                    </div>
              </div>
              );
            }
            
            export default Test;
            ```
            
            **useRef(null)** ëŠ” **IntersectionObserver**ê°€ ë™ì‘í•  íƒœê·¸ë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì„ ì–¸ëœë‹¤. **useEffect**ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´ë“œë  ë•Œ ê´€ì°°ì„ ì‹œì‘í•˜ê¸° ìœ„í•œ ì„ ì–¸ê³¼, ì–¸ë§ˆìš´íŠ¸ ë˜ì—ˆì„ ë•Œ ê´€ì°°ì„ ì¤‘ì§€í•˜ê¸° ìœ„í•œ ì„ ì–¸ì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. ì°¸ì¡°ì™€ ê´€ì°°ì˜ ê¸°ëŠ¥ì´ ë™ì‘ë  ë•Œ,  **IntersectionObserver**ëŠ” ë™ì‘ì„ ì‹¤í–‰í•œë‹¤. 
            
        - ë¬¸ì œ(1) - **â€œthreshold: ê°’ì— ëŒ€í•œ ì´í•´ë¶€ì¡±â€**
            
            **â€œthreshold: ê°’ì— ëŒ€í•œ ì´í•´ë¶€ì¡±â€**ìœ¼ë¡œ ì¸í•´ ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ì´ ê°œë°œëª©ì ì— ëŒ€ì‘í•˜ì—¬ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìŠˆê°€ ìˆì—ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **MDN ê³µì‹ë¬¸ì„œ**ë¥¼ ì°¸ì¡°í•˜ì˜€ê³ , ì ì •í•œ  **threshold** ê°’ì„ ì„¤ì •í•´ì•¼ í•œë‹¤ëŠ” ì´í•´ë¥¼ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. 
            
        - ë¬¸ì œ(2) - â€œ**ê°™ì€ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒˆë¡œê³ ì¹¨ì‹œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìŠˆ**â€
            
            **ë¼ìš°íŒ…ë³€ê²½ì‹œì—ëŠ” ë™ì‘, í•˜ì§€ë§Œ ê°™ì€ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒˆë¡œê³ ì¹¨ì‹œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìŠˆ**ë¡œ ì°¸ì¡°(useRef)ë¥¼ ê±¸ì—ˆë˜ ëŒ€ìƒì— ëŒ€í•œ ê´€ì°°ê³¼ ê´€ì°°í•´ì œê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìœ ê°€ ë°œìƒí–ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **MDN ê³µì‹ë¬¸ì„œ**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•œ **IntersectionObserver**ì— ëŒ€í•œ ì½”ë“œë¥¼ ì‚´í´ë³´ì•˜ì§€ë§Œ íŠ¹ë³„í•œ ì´ìƒì€ ë°œê²¬í•  ìˆ˜ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ì‘ì„±í•˜ë©´ì„œ í˜¹ì‹œë¼ë„ ë‚´ê°€ ë†“ì¹œ ë¶€ë¶„ì´ ìˆëŠ”ì§€ ì‚´í´ë³´ê³ ì í•˜ì˜€ê³ , ì¬ì‘ì„±ì„ ì™„ë£Œí•˜ê³ (ë™ì¼í•œ ì½”ë“œ) yarn startë¥¼ í–ˆì„ ë•Œ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë‹¤. ì¶”í›„ì˜ ê³µë¶€ì—ì„œ í˜¹ì‹œ ëª¨ë¥¼ ì´ìœ ë¥¼ ìƒê°í•´ë³´ì•˜ë‹¤. ì´ëŠ” ìƒˆë¡œê³ ì¹¨ì‹œ useEffectì˜ cleanUp ì— ë¬¸ì œê°€ ìƒê²¼ë˜ ê²ƒìœ¼ë¡œ íŒë‹¨ëœë‹¤. **IntersectionObserver**ëŠ” ìƒˆë¡­ê²Œ ìƒì„±ë˜ì—ˆì§€ë§Œ, useRefê°€ ì°¸ê³ í•˜ëŠ” ëŒ€ìƒì— ëŒ€í•œ ë¬¸ì œê°€ ë°œìƒí–ˆë˜ ê²ƒì€ ì•„ë‹Œê°€ì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì„ ê²¬ê³ í•˜ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë  ìˆ˜ë„ ìˆì„ ê²ƒì´ë‹¤. [ref]ë¥¼ ì¶”ê°€í•˜ì—¬, refê°€ ë³€ê²½ëœ ê²½ìš°ì—ë„ ëŒ€ì‘í•˜ë„ë¡ í•œë‹¤ë©´ ë³´ë‹¤ ê²¬ê³ í•œ ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆì„ ê²ƒì´ë‹¤. ì´í›„ì— ê°™ì€ ë¬¸ì œê°€ ë°œìƒëœë‹¤ë©´ ì´ëŸ¬í•œ ì ‘ê·¼ ë°©ë²•ë„ ê³ ë ¤í•´ë³´ë ¤ í•œë‹¤. 
            
            ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©°, í•´ê²°ê³¼ì •ì€ ê³µë¶€í•œ ê¸°ê°„ì— ë¹„í•´ì„œ ë‹¨ì´í•˜ì˜€ë‹¤. ê·¸ë ‡ì§€ë§Œ ì´ ê³¼ì •ì—ì„œ **IntersectionObserver**ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì¼ ìˆ˜ ìˆì—ˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ í™”ë©´ì„ êµ¬ì„±í•˜ëŠ” ì´ì ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ë‹¤. ë˜í•œ, ìƒì‹œ ê´€ì°°ì„ í•˜ëŠ” window.addEventListener()ì™€ getBoundingClientRect()ë¡œ êµ¬í˜„í•œ ì´ë²¤íŠ¸ì˜ ë¬¸ì œì (ê´€ì°°ì˜ í”¼ë¡œë„ ë“±)ê³¼ ë¹„êµí•˜ì—¬, IntersectionObserverì˜ ìƒëŒ€ì ì¸ ì´ì ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.
            
    - ë¬¸ì œë°œìƒ(2) **SPAì— ìˆì–´ì„œ ì´ì „ ë¼ìš°í„°ì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê¸°ì–µí•˜ê³  ìˆëŠ” ë¶€ë¶„**ì˜ ë¬¸ì œ ë°œìƒ
        - ë¬¸ì œ - â€œ**SPAë¡œ êµ¬í˜„ëœ ë¦¬ì•¡íŠ¸ì—ì„œì˜ ë¼ìš°íŒ… ì‹œ ë°œìƒë˜ëŠ” ìŠ¤í¬ë¡¤ ì´ìŠˆ**â€
            
            SPA(Single Page Application)ì„ êµ¬í˜„í•˜ëŠ” ë¦¬ì•¡íŠ¸ëŠ” í˜ì´ì§€ ì „ì²´ë¥¼ ìƒˆë¡œ ë¡œë“œí•˜ì§€ ì•Šê³ , ê°€ìƒDOMìœ¼ë¡œ ë³€ê²½ëœ ë¶€ë¶„ë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ˆì•„ë¼ìš´ë‹¤. ì´ëŸ° SPAê°€ ì£¼ëŠ” ì´ì ì€ ìƒˆë¡œê³ ì¹¨ì´ ì—†ì–´ í™”ë©´ ê¹œë°•ì„ì´ ì—†ë‹¤ëŠ” ê²ƒê³¼, CSRì„ êµ¬í˜„í•˜ê¸°ì— ì´ˆê¸°ë¡œë”©ì€ ëŠë¦´ ìˆ˜ ìˆì§€ë§Œ, ë¡œë”© í›„ì—ëŠ” ë¹ ë¥¸ í™”ë©´êµ¬ì„±ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤. ê·¸ëŸ¬ë‚˜, ì´ëŸ¬í•œ SPAëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì´ì „ í˜ì´ì§€ì˜ ìƒíƒœë¥¼ ìœ ì§€í•œë‹¤ëŠ” ì ì´ë©°, ê·¸ ê²°ê³¼ ì´ì „ í˜ì´ì§€ì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê¸°ì–µí•˜ê³  ì´ë¥¼ ìœ ì§€í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ ë¬¸ì œì˜ í•´ê²°ì„ ìœ„í•´ì„œëŠ” ë¼ìš°í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìŠ¤í¬ë¡¤ì˜ ìœ„ì¹˜ë¥¼ ì´ˆê¸°í™” ë˜ì–´ì•¼ í•œë‹¤. 
            
            ```jsx
            useEffect(() => {
                window.scrollTo(0, 0); // SPAë¬¸ì œì˜ í•œê³„, ì´ì „ ë¼ìš°í„°ì˜ ìŠ¤í¬ë¡¤ì„ ê¸°ì–µí•˜ê³  ìˆëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì í•¨
            }, [])
            ```
            
            ë¬¸ì œí•´ê²°ì€ ìƒˆë¡œìš´ ë¼ìš°í„°ì— ëŒ€í•œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë˜ì—ˆì„ ë•Œ, ìœˆë„ìš° ê°ì²´ì˜ scrollTo ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì´ˆê¸°í™”í•¨ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ë‹¤. ì´ ê³¼ì •ì—ì„œ CSRê³¼ SPA ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ë¦¬ì•¡íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ì´í•´ë¥¼ ì¡°ê¸ˆ ì‹¬ì¸µì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤. react-router-dom ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í•œê³„ì ì— ëŒ€í•´ì„œ ì‚´í´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”ì™€ ê°™ì€ ë™ì‘ì€ ì œì–´í•˜ì§€ ëª»í•œë‹¤ëŠ” ì ì´ë‹¤. ë¬¼ë¡  useLocation()ë¥¼ ì‚¬ìš©í•´ì„œ, pathname ì„ íšë“í•˜ê³ , ì´ ë•Œë§ˆë‹¤ useEffectë¥¼ ë™ì‘ì‹œì¼œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆê¸°í•˜ë‹¤. ì•„ë˜ì˜ ì½”ë“œê°€ ë°”ë¡œ ì´ë¥¼ ì ìš©í•œ ì½”ë“œì´ë‹¤.ì´ë¥¼ Router.jsì—ì„œ import í•¨ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤. 
            
            ```jsx
            import { useEffect } from "react";
            import { useLocation } from "react-router-dom";
            
            export default function ScrollToTop() {
              const { pathname } = useLocation();
            
              useEffect(() => {
                window.scrollTo(0, 0);
              }, [pathname]);
            
              return null;
            }
            ```
            
        

**[FE] ë°±ìŠ¹í˜¸**

- ğŸ“ì²«ì§¸, input type=file ì— ì ‘ê·¼í•˜ê¸°
    
    
    `ìƒí™©.`
    ì „ì‹œíšŒ ìˆ˜ì • í˜ì´ì§€ ì ‘ì†ì‹œ ê¸°ì¡´ì— ì˜¬ë ¤ë‘” img file ì •ë³´ë“¤ì„ ë¶ˆëŸ¬ì™€ì„œ File ê°ì²´ì— ë„£ì–´ ì´ë¯¸ì§€ ë“¤ì„ previewë¥¼ í‘œì‹œí•´ ì£¼ê³  ì‹¶ë‹¤.
    
    `ë¬¸ì œ.`
    
    inputì— ì ‘ê·¼ì„ ëª» í•œë‹¤.  
    
    `ì›ì¸`
    
    ì´ëŠ” ë³´ì•ˆìƒ ë¬¸ì œë¡œ  ì›¹ ë¸Œë¼ìš°ì €ê°€ ì‚¬ìš©ìì˜ ê°œì¸ íŒŒì¼ ë° ì‹œìŠ¤í…œ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ì§€ ì•Šë„ë¡ ë°©ì§€í•˜ê¸° ìœ„í•œ ì´ìœ ë‹¤.
    
    ë§Œì•½ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ íŒŒì¼ ì‹œìŠ¤í…œì— ì§ì ‘ ì ‘ê·¼ì„ í—ˆìš©í•œë‹¤ë©´, ì•…ì„± ì‚¬ìš©ìê°€ JavaScript ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ íŒŒì¼ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ê³ , ì¤‘ìš”í•œ íŒŒì¼ì„ ì‚­ì œí•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. 
    
     ê·¸ë ‡ê¸° ë•Œë¬¸ì— inputì´ typeì´ fileì¼ë•Œ ëœë”ë§ì‹œ fileì„ ë”°ë¡œ ì§€ì •ì„ ëª» í•´ì¤€ë‹¤.
    
    ê²°ë¡ ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì—ì„œ fileì„ backendë¡œ ë°”ë¡œ ë³´ë‚´ì£¼ëŠ” ê²ƒì— ê´€í•˜ì—¬ ìˆ˜ì •í˜ì´ì§€ë¡œ ì ‘ì†í• ë•Œ ê¸°ì¡´ fileì„ ë„£ì–´ fileì˜ previewë¥¼ í‘œì‹œí•´  ì£¼ê³  ì‹¶ì€ë° ëª»í•˜ê³  ìˆëŠ” ìƒí™©ì´ë‹¤.
    
    `âœ… í•´ê²°`
    
    ìˆ˜ì •í˜ì´ì§€
    
    ì´ë¯¸ì§€ë¥¼ s3ì— ì˜¬ë¦¬ëŠ” ë°©ë²•.
    
    í´ë¼ì´ì–¸íŠ¸ì—ì„œ s3ì— ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦°ë‹¤ â†’ì‘ì„±í• ë•Œ s3 ë¡œ ì˜¬ë¼ê°„ íŒŒì¼ì˜ urlì„ backendë¡œ ë³´ë‚¸ë‹¤.â†’getìš”ì²­ì„ í• ë•Œ ëœë”ë§ì„ ìœ„í•œ backend ì—ì„œ s3ì— ì˜¬ë¼ê°€ ìˆëŠ” urlì„ ë³´ë‚´ì¤€ë‹¤. â†’ê·¸ëŸ¼ urlë¥¼ img previewì— ë„£ì–´ì¤€ë‹¤.
    
    ğŸ’­ê·¸ëŸ¼ input type=fileì— ì–´ë–»ê²Œ ë„£ëŠ”ê°€? file ê°ì²´ë¥¼ ëª» ë‹¤ë£¨ëŠ”ê±´ ë§ˆì°¬ê°€ì§€ ì•„ë‹Œê°€??
    
    ê·¸ë ‡ë‹¤ í•˜ì§€ë§Œ ëœë”ë§ í• ë•Œ previewëŠ” ê°€ëŠ¥í•˜ë‹¤.  input type=fileì— ì ‘ê·¼í•˜ëŠ” ì´ìœ ë„  input type=fileì— ì ‘ê·¼í•˜ì—¬ fileì„ ë„£ì–´ì£¼ê³  ë“¤ì–´ê°„ fileì„ ê°€ì§€ê³ ì™€ì„œ previewë¥¼ ë³´ì—¬ì£¼ê¸°í•¨ ì´ì—ˆë‹¤. 
    
    ğŸ’¡ì²˜ë¦¬í•œ ë°©ë²•
    
    file previewëŠ” ëœë”ë§ ë˜ì–´ìˆë‹¤. í•˜ì§€ë§Œ fileì€ ì—†ëŠ” ìƒí™©ì´ë‹¤. ì¼ë‹¨ ì‚¬ìš©ì ì¸¡ë©´ì—ì„œ íŒŒì¼ì´ ì˜¬ë¼ê°€ ìˆë‹¤ê³  ìƒê°í•˜ê²Œ í•œë‹¤.
    
    ë§Œì•½ íŒŒì¼ ë³€ê²½ì—†ì´ ìˆ˜ì •ì„ ìš”ì²­í•œë‹¤ë©´ fileì€ ë¹„ì–´ ìˆê¸° ë•Œë¬¸ì— ë§ˆì°¬ê°€ì§€ë¡œ í”„ë¡ íŠ¸ì•¤ë“œì—ì„œë„ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë©´ fileì„ ë¹„ì›Œì„œ ë³´ë‚´ê³  ìˆ˜ì •ì„ ì§„í–‰í•œë‹¤ë©´ fileì„ ë„£ê³  preview urlë„ êµì²´ê°€ ëœë‹¤.backend ìª½ì—ì„œ íŒŒì¼ì´ ë³€ë™ ì—†ì„ì‹œ ê¸°ì¡´ì— íŒŒì¼ì„ ìœ ì§€ í•˜ê³  fileì´ ì¡´ì¬ í•œë‹¤ë©´  ìˆ˜ì •ëœ ë°ì´í„°ë¥¼ ë„£ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.
    
- ğŸ“ë‘˜ì§¸, stateê°€ ë³€ë™ì‚¬í•­ì´ ìˆëŠ”ì§€ ê°ì§€í•˜ê¸°
    
    
    `ìƒí™©.` 
    
    ì‘ì„±, ìˆ˜ì • í˜ì´ì§€ì—ì„œ  templeteê³¼ dataê°€ ë‹¬ë¼ì¡Œë‹¤ë©´ ì‘ì„±ì´ ë˜ì—ˆë‹¤ê³  ì¸ì§€í•˜ì—¬ confrim()ë©”ì„œë“œë¥¼ ë„ì›Œì£¼ê³  ì‹¶ë‹¤. .
    
    `ë¬¸ì œ`
    
    ```jsx
    const templete = {
    startDate: "",
    },
    };
    const [exhibition, setExhibition] = useState(templete );
    ```
    
    ì—¬ê¸°ì„œ templeteê³¼ exhibitionì„ ë¹„êµí•´ì„œ exhibition ê°’ì´ ë‹¬ë¼ì¡Œë‹¤ë©´ confrim()ë©”ì„œë“œë¥¼ ë„ì›Œì£¼ê³  ì‹¶ì—ˆë‹¤
    
    templeteì´ ì´ˆê¸°ê°’ ,exhibitionì€ ë‚˜ì¤‘ì— ì‚¬ìš©ìê°€ ì…ë ¥í•˜ë©´ ë‹¬ë¼ì§€ëŠ”ê°’ì´ê³ 
    
    í•˜ì§€ë§Œ ì•„ë¬´ê²ƒë„ ì…ë ¥ ì•ˆí–ˆì„ë•Œë„ templeteê³¼ exhibitionì´ ë‹¤ë¥´ë‹¤ê³  ë‚˜ì˜¨ë‹¤ 
    
    `í•´ê²° .`
    
    `JSON.Stringify()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **`templete`**ê³¼ **`exhibition`**ì„ ê°ê° ë¬¸ìì—´ë¡œ ë³€í™˜í•œ í›„, ë¬¸ìì—´ì„ ë¹„êµí•˜ì—¬ ë‘ ê°ì²´ì˜ ë‚´ìš©ì´ ê°™ì€ì§€ë¥¼ í™•ì¸
    
    **templete**ê³¼ **exhibition**ì´ ì´ˆê¸°ê°’ìœ¼ë¡œ ê°™ì€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, **exhibition**
    ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ **templete**ê³¼ëŠ” ë³„ê°œì˜ ê°ì²´ë¡œ ìƒˆë¡œìš´ ìƒíƒœê°€ ìƒì„±ë©ë‹ˆë‹¤. ì¦‰ ê¹Šì€ ë³µì‚¬ë¥¼ ì‹¤í–‰ í–ˆë‹¤.
    
    ê·¸ë ‡ê¸° ë•Œë¬¸ì— **templete** & **exhibition**ì€ ì„œë¡œ ë‹¤ë¥¸ ê°ì²´ë¡œ ì¸ì‹ë˜ê³ , ê°’ì´ ê°™ë”ë¼ë„ JavaScriptì—ì„œ ê°ì²´ ê°„ì˜ ë¹„êµëŠ” ì°¸ì¡°(Reference)ì— ì˜í•œ ë¹„êµê°€ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì—, ë‘ ê°ì²´ê°€ ë‹¤ë¥´ë‹¤ê³  íŒë‹¨ëœë‹¤.
    
    ì´ë¥¼ í•´ê²°í•˜ë ¤ë©´ ê°ì²´ì˜ ë‚´ìš©ì„ ë¹„êµí•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ì—¬ ê°ì²´ì˜ ë‚´ìš©ì´ ë™ì¼í•œì§€ ë¹„êµí•œë‹¤.
    
    ```jsx
    const changeOnOff = (event) => {
        const { name } = event.target;
        if (
          exhibitionKind !== name &&
          JSON.stringify(templete) !== JSON.stringify(exhibition)
        ) {
          if (window.confirm("ê¸°ì¡´ë°ì´í„°ê°€ ì‚­ì œ ë©ë‹ˆë‹¤.ì •ë§ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            setExhibitionKind(name);
            setExhibition(templete);
          }
        } else {
          setExhibitionKind(name);
        }
      };
    ```
    
    ê°’ì´ ì‘ì„±ì´ ì•ˆë ë•Œ ê·¸ëƒ¥ confirm() ì—†ì´ í™”ë©´ì´ ì „í™˜ ë˜ëŠ” ë¡œì§.
    
    
    
    ## ğŸ‘¥ íŒ€ì›ì†Œê°œ

---

# ğŸ‘¥ íŒ€ì› ì†Œê°œ

---

| ì—­í•  | ì´ë¦„ | GitHub | ë¶„ë‹´ |
| --- | --- | --- | --- |
| FE ğŸ‘‘ | ë°±ìŠ¹í˜¸ | https://github.com/seunghowhite | ì „ì‹œ í˜ì´ì§€  |
| FE | ê¹€ì¬ë€ | https://github.com/gitjaeran | ë¡œê·¸ì¸ í˜ì´ì§€, íšŒì›ê°€ì… í˜ì´ì§€, ë§ˆì´í˜ì´ì§€ |
| FE | ë°•ì˜ì°¬ | https://github.com/19Edwin92 | ë©”ì¸(í—¤ë”í¬í•¨) í˜ì´ì§€, ì•„íŠ¸ê·¸ë¨ í˜ì´ì§€, í†µí•©ê²€ìƒ‰ í˜ì´ì§€ |
| BE ğŸ‘‘ | ì„ê±´ | https://github.com/WoogLim |  |
| BE | ê¹€ë‹¤ë¹ˆ | https://github.com/dabeenkim |  |
| BE | ë¬¸ì„œì•„ |  |  |
| DE | ê°•í˜œë¦° |  | ë””ìì¸ |
